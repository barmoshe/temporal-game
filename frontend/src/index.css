@import url("https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body {
  height: 100%;
  width: 100%;
  position: fixed;
  overflow: hidden;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
  touch-action: manipulation;
}

body {
  margin: 0;
  font-family: "Nunito", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
    "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: theme("colors.game.background");
  -webkit-tap-highlight-color: transparent;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Fredoka One", cursive;
}

/* Prevent text selection on game elements */
.game-card,
.action-prompt,
.game-button {
  user-select: none;
  -webkit-user-select: none;
}

@layer components {
  .game-button {
    @apply bg-primary-mustard text-game-text font-display py-2 sm:py-3 px-4 sm:px-6 rounded-lg 
           shadow-lg hover:bg-primary-cherry hover:text-white transition-all 
           duration-300 transform hover:scale-105 focus:outline-none;
  }

  .game-card {
    @apply bg-game-surface rounded-xl shadow-lg p-2 sm:p-4 transition-all duration-300;
  }

  .recipe-card {
    @apply game-card hover:shadow-xl cursor-pointer transform hover:scale-105;
  }

  .action-prompt {
    @apply flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-full 
           bg-game-surface border-4 text-xl sm:text-2xl font-display shadow-lg;
  }

  .action-prompt-active {
    @apply border-accent-teal animate-pulse;
  }

  .action-prompt-success {
    @apply border-primary-olive bg-primary-olive/20;
  }

  .action-prompt-fail {
    @apply border-primary-cherry bg-primary-cherry/20;
  }

  /* New styles for power-ups */
  .power-up-button {
    @apply w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-game-surface shadow-lg flex items-center justify-center
           hover:bg-primary-mustard transition-colors transform hover:scale-110;
  }

  .power-up-active {
    @apply bg-primary-cherry text-white animate-pulse;
  }

  /* Perfect timing indicator styles */
  .timing-bar {
    @apply w-48 sm:w-64 h-6 sm:h-8 bg-gray-200 rounded-full overflow-hidden relative;
  }

  .timing-marker {
    @apply absolute top-0 bottom-0 w-3 sm:w-4 bg-primary-cherry;
  }

  .timing-target {
    @apply absolute top-0 bottom-0 w-6 sm:w-8 bg-accent-teal opacity-30;
  }

  /* Combo and feedback animations */
  .combo-text {
    @apply text-xs sm:text-sm bg-primary-cherry text-white px-2 py-1 rounded-full;
    animation: pulse 1s infinite;
  }

  .feedback-popup {
    @apply absolute top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
           bg-game-surface px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg text-lg sm:text-xl font-display;
  }

  /* Achievement styles */
  .achievement {
    @apply p-2 sm:p-3 rounded-lg flex items-center space-x-2 sm:space-x-3 transition-all duration-300;
  }

  .achievement-earned {
    @apply bg-primary-mustard/20;
  }

  .achievement-locked {
    @apply bg-gray-200/50;
  }

  /* Difficulty selector styles */
  .difficulty-button {
    @apply px-3 py-1 sm:px-4 sm:py-2 rounded-lg transition-colors duration-300;
  }

  .difficulty-selected {
    @apply bg-primary-cherry text-white;
  }

  .difficulty-option {
    @apply bg-game-surface hover:bg-primary-mustard/50;
  }

  /* Mobile-specific adjustments */
  @media (max-width: 640px) {
    .game-container {
      @apply px-2 py-4;
    }

    .game-title {
      @apply text-2xl mb-2;
    }

    .game-subtitle {
      @apply text-base mb-4;
    }
  }
}

/* Keyframe animations */
@keyframes pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes glow {
  0%,
  100% {
    box-shadow: 0 0 5px rgba(255, 193, 7, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 193, 7, 0.8);
  }
}

/* Animation utilities */
.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}

/* Touch-friendly improvements */
@media (max-width: 640px) {
  button,
  [role="button"] {
    @apply min-h-10 min-w-10;
    touch-action: manipulation;
  }

  .touch-target {
    @apply p-2;
    min-height: 44px;
    min-width: 44px;
  }
}
